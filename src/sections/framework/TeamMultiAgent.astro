---
import { generalist, backend, frontend, architect, devops } from '@slope-dev/slope';

const roles = [generalist, backend, frontend, architect, devops];
---

<!-- Team & Multi-Agent -->
<section class="mb-16">
  <h2 class="font-heading font-bold text-2xl mb-4 text-text-primary">Team & Multi-Agent</h2>
  <p class="text-text-secondary mb-6">SLOPE supports multi-agent sprints with {roles.length} built-in roles. Each role gets a filtered <span data-term="vocabulary.briefing">briefing</span>, preferred <span data-term="vocabulary.club">club</span>s, and separate <span data-term="vocabulary.handicap">handicap</span> tracking.</p>

  <!-- Built-in Roles -->
  <h3 class="font-heading font-bold text-lg mb-4 text-text-primary">Built-in Roles</h3>
  <div class="space-y-3 mb-6">
    {roles.map((role) => (
      <div class="rounded-lg border border-border-subtle bg-bg-card p-4">
        <div class="flex items-center gap-3 mb-2">
          <code class="text-emerald text-xs font-mono bg-emerald/5 px-2 py-0.5 rounded">{role.id}</code>
          <span class="text-text-primary text-sm font-bold">{role.name}</span>
        </div>
        <p class="text-text-secondary text-sm mb-2">{role.description}</p>
        {role.focusAreas.length > 0 && (
          <div class="flex flex-wrap gap-1.5">
            {role.focusAreas.map((area: string) => (
              <span class="text-[10px] font-mono px-1.5 py-0.5 rounded bg-bg-primary border border-border-subtle text-text-muted">{area}</span>
            ))}
          </div>
        )}
      </div>
    ))}
  </div>

  <!-- Multi-agent concepts -->
  <h3 class="font-heading font-bold text-lg mb-4 text-text-primary">Multi-Agent Coordination</h3>
  <div class="grid sm:grid-cols-2 gap-3 mb-6">
    <div class="p-3 rounded-lg bg-bg-card border border-border-subtle">
      <span class="text-text-primary text-sm font-medium">Team <span data-term="vocabulary.handicap">Handicap</span></span>
      <p class="text-text-muted text-xs mt-1">Weighted average of all agents' <span data-term="vocabulary.handicap">handicap</span>s, adjusted for role distribution</p>
    </div>
    <div class="p-3 rounded-lg bg-bg-card border border-border-subtle">
      <span class="text-text-primary text-sm font-medium">Agent Breakdowns</span>
      <p class="text-text-muted text-xs mt-1">Per-agent stats within a <span data-term="vocabulary.sprint">sprint</span> — who took which <span data-term="vocabulary.ticket">shot</span>s, individual accuracy</p>
    </div>
    <div class="p-3 rounded-lg bg-bg-card border border-border-subtle">
      <span class="text-text-primary text-sm font-medium">Claims & Conflicts</span>
      <p class="text-text-muted text-xs mt-1">Ticket claiming system prevents two agents from working the same <span data-term="vocabulary.ticket">shot</span></p>
    </div>
    <div class="p-3 rounded-lg bg-bg-card border border-border-subtle">
      <span class="text-text-primary text-sm font-medium">Standups</span>
      <p class="text-text-muted text-xs mt-1">Auto-generated team standups from session data across all agents</p>
    </div>
  </div>

  <details class="read-the-green">
    <summary>
      <svg class="chevron shrink-0" width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M9 18l6-6-6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></svg>
      <span class="text-emerald text-sm font-medium" data-term="vocabulary.readTheGreen">Read the Green</span>
      <span class="text-text-muted text-xs">— How roles change the game</span>
    </summary>
    <div class="deep-content pt-4 space-y-3 text-sm text-text-secondary">
      <p>Roles aren't just labels — they change the <strong class="text-text-primary"><span data-term="vocabulary.briefing">briefing</span> content</strong>. A backend agent gets hazards about database migrations surfaced prominently; a frontend agent gets accessibility gotchas. The same <span data-term="vocabulary.preRound">pre-round</span> <span data-term="vocabulary.briefing">briefing</span> is filtered through the role's lens.</p>
      <p>In a multi-agent <span data-term="vocabulary.sprint">sprint</span>, the team <span data-term="vocabulary.handicap">handicap</span> is more useful than individual <span data-term="vocabulary.handicap">handicap</span>s. It tells you: "when these agents work together on this kind of <span data-term="vocabulary.sprint">sprint</span>, they average X over <span data-term="vocabulary.par">par</span>." This predicts team performance better than any individual metric.</p>
    </div>
  </details>
</section>
