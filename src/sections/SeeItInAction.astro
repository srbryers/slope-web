---
const metaphors = [
  { id: 'golf', name: 'Golf', desc: 'You vs the course' },
  { id: 'tennis', name: 'Tennis', desc: 'Serve, rally, match point' },
  { id: 'baseball', name: 'Baseball', desc: 'Innings and home runs' },
  { id: 'gaming', name: 'Gaming', desc: 'XP and boss fights' },
  { id: 'dnd', name: 'D&D', desc: 'Quests and encounters' },
  { id: 'matrix', name: 'Matrix', desc: 'Red pill, blue pill' },
];
---

<section id="see-it-in-action" class="py-24 sm:py-32 bg-bg-surface/30">
  <div class="max-w-4xl mx-auto px-6">
    <!-- Section header -->
    <div class="text-center mb-12" data-reveal>
      <p class="text-emerald text-xs font-mono uppercase tracking-widest mb-3">See It In Action</p>
      <h2 class="font-heading font-bold text-3xl sm:text-4xl mb-4">
        Pick the language your team already speaks
      </h2>
      <p class="text-text-secondary max-w-xl mx-auto">
        Same sprint. Same engine. Same data. Watch the vocabulary change.
      </p>
    </div>

    <!-- Inline metaphor picker — 2×3 grid on mobile, single row on desktop -->
    <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-2 sm:gap-3 mb-10" data-stagger>
      {metaphors.map(({ id, name, desc }) => (
        <button
          data-inline-metaphor={id}
          class:list={[
            'inline-metaphor-pill rounded-lg border p-3 sm:p-4 text-center transition-all cursor-pointer min-h-[44px]',
            id === 'golf'
              ? 'border-emerald/40 bg-emerald/10 text-emerald'
              : 'border-border bg-bg-card text-text-muted hover:border-emerald/20 hover:text-text-secondary',
          ]}
        >
          <div class="font-heading font-bold text-sm">{name}</div>
          <div class="text-[10px] sm:text-xs mt-0.5 opacity-70 leading-tight">{desc}</div>
        </button>
      ))}
    </div>

    <!-- Terminology table -->
    <div class="rounded-xl border border-emerald/20 bg-bg-card overflow-hidden" data-reveal>
      <table class="w-full text-sm">
        <thead>
          <tr class="border-b border-border">
            <th class="text-left px-4 sm:px-6 py-3 text-text-muted text-xs font-mono uppercase tracking-wider">Concept</th>
            <th class="text-left px-4 sm:px-6 py-3 text-emerald text-xs font-mono uppercase tracking-wider">Metaphor Term</th>
          </tr>
        </thead>
        <tbody class="divide-y divide-border/50">
          <tr><td class="px-4 sm:px-6 py-2.5 text-text-secondary">Sprint</td><td class="px-4 sm:px-6 py-2.5 text-text-primary font-medium" data-term="vocabulary.sprint">Hole</td></tr>
          <tr><td class="px-4 sm:px-6 py-2.5 text-text-secondary">Ticket</td><td class="px-4 sm:px-6 py-2.5 text-text-primary font-medium" data-term="vocabulary.ticket">Shot</td></tr>
          <tr><td class="px-4 sm:px-6 py-2.5 text-text-secondary">Scorecard</td><td class="px-4 sm:px-6 py-2.5 text-text-primary font-medium" data-term="vocabulary.scorecard">Scorecard</td></tr>
          <tr><td class="px-4 sm:px-6 py-2.5 text-text-secondary">Performance Card</td><td class="px-4 sm:px-6 py-2.5 text-text-primary font-medium" data-term="vocabulary.handicapCard">Handicap Card</td></tr>
          <tr><td class="px-4 sm:px-6 py-2.5 text-text-secondary">Briefing</td><td class="px-4 sm:px-6 py-2.5 text-text-primary font-medium" data-term="vocabulary.briefing">Pre-round Briefing</td></tr>
          <tr><td class="px-4 sm:px-6 py-2.5 text-text-secondary">Perfect Score</td><td class="px-4 sm:px-6 py-2.5 text-text-primary font-medium" data-term="vocabulary.perfectScore">Hole-in-one</td></tr>
          <tr><td class="px-4 sm:px-6 py-2.5 text-text-secondary">On Target</td><td class="px-4 sm:px-6 py-2.5 text-text-primary font-medium" data-term="vocabulary.onTarget">Par</td></tr>
          <tr><td class="px-4 sm:px-6 py-2.5 text-text-secondary">Review</td><td class="px-4 sm:px-6 py-2.5 text-text-primary font-medium" data-term="vocabulary.review">19th Hole</td></tr>
          <tr class="border-t border-border"><td class="px-4 sm:px-6 py-2.5 text-text-secondary">High-risk approach</td><td class="px-4 sm:px-6 py-2.5 text-text-primary font-medium" data-term="clubs.driver">Driver</td></tr>
          <tr><td class="px-4 sm:px-6 py-2.5 text-text-secondary">Precision approach</td><td class="px-4 sm:px-6 py-2.5 text-text-primary font-medium" data-term="clubs.wedge">Wedge</td></tr>
          <tr class="border-t border-border"><td class="px-4 sm:px-6 py-2.5 text-text-secondary">Known gotcha</td><td class="px-4 sm:px-6 py-2.5 text-text-primary font-medium" data-term="hazards.bunker">Bunker</td></tr>
          <tr><td class="px-4 sm:px-6 py-2.5 text-text-secondary">Breaking change</td><td class="px-4 sm:px-6 py-2.5 text-text-primary font-medium" data-term="hazards.water">Water</td></tr>
          <tr><td class="px-4 sm:px-6 py-2.5 text-text-secondary">Scope creep</td><td class="px-4 sm:px-6 py-2.5 text-text-primary font-medium" data-term="hazards.ob">Out of Bounds</td></tr>
        </tbody>
      </table>
    </div>

    <!-- CTA -->
    <div class="text-center mt-10" data-reveal>
      <a
        href="/framework"
        class="inline-flex items-center gap-2 text-emerald hover:text-emerald/80 transition-colors font-heading font-bold text-sm"
      >
        Explore the full framework
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true">
          <path d="M5 12h14M12 5l7 7-7 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
        </svg>
      </a>
    </div>
  </div>
</section>

<script>
  import { initInlineSwitcher } from '../scripts/interactions';
  initInlineSwitcher();
</script>
