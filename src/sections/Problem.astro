---
---

<section id="problem" class="py-24 sm:py-32">
  <div class="max-w-6xl mx-auto px-6">
    <!-- Section header -->
    <div class="text-center mb-16" data-reveal>
      <h2 class="font-heading font-bold text-3xl sm:text-4xl mb-4">
        AI Agents Are Powerful. <span class="text-text-muted">But Chaotic.</span>
      </h2>
      <p class="text-text-secondary max-w-2xl mx-auto">
        Without structure, session 50 looks exactly like session 1. Work gets lost. Patterns repeat. Nobody knows if things are getting better.
      </p>
    </div>

    <!-- Landscape preamble -->
    <div class="grid sm:grid-cols-2 gap-6 mb-16 max-w-3xl mx-auto" data-stagger>
      <div class="rounded-lg border border-border bg-bg-surface p-5">
        <p class="text-text-primary font-heading font-bold text-base mb-2">AI agents build real software.</p>
        <p class="text-text-muted text-sm leading-relaxed">They write code, run tests, fix bugs, and ship features. They're fast, capable, and increasingly common.</p>
      </div>
      <div class="rounded-lg border border-border bg-bg-surface p-5">
        <p class="text-text-primary font-heading font-bold text-base mb-2">They work in sessions.</p>
        <p class="text-text-muted text-sm leading-relaxed">You describe what you want. The agent executes. It delivers. Session over.</p>
      </div>
      <div class="rounded-lg border border-border bg-bg-surface p-5">
        <p class="text-text-primary font-heading font-bold text-base mb-2">But nothing carries over.</p>
        <p class="text-text-muted text-sm leading-relaxed">Each session starts from zero. No memory of past mistakes. No awareness of patterns. No measurement of progress.</p>
      </div>
      <div class="rounded-lg border border-border bg-bg-surface p-5">
        <p class="text-emerald font-heading font-bold text-base mb-2">After 50 sessions, you know exactly as much as you did after the first.</p>
        <p class="text-text-muted text-sm leading-relaxed">All that work — and no data to show what's improving, what's breaking, or what to do next.</p>
      </div>
    </div>

    <!-- Before / After comparison -->
    <div class="grid md:grid-cols-2 gap-6 mb-16" data-stagger>
      <!-- Chaos side -->
      <div class="rounded-xl border border-red-900/30 bg-bg-surface p-6 relative overflow-hidden">
        <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-red-500/50 to-red-500/0"></div>
        <div class="flex items-center gap-2 mb-4">
          <span class="text-red-400 text-sm font-medium uppercase tracking-wider">Without SLOPE</span>
        </div>
        <div class="font-mono text-xs text-text-muted leading-relaxed space-y-1 opacity-80">
          <p class="text-red-400/70">ERROR: Agent crashed mid-sprint, no recovery point</p>
          <p>$ git log --oneline | wc -l → 47 commits, no pattern</p>
          <p class="text-red-400/70">WARN: Same bug as 3 sprints ago</p>
          <p>$ how many tests? → "not sure, maybe 200?"</p>
          <p class="text-red-400/70">ERROR: Context lost on compaction</p>
          <p>$ what improved? → "hard to say"</p>
          <p class="text-text-muted/50">... (scrolls for 500 more lines)</p>
        </div>
      </div>

      <!-- Order side -->
      <div class="rounded-xl border border-emerald/20 bg-bg-surface p-6 relative overflow-hidden">
        <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-emerald/50 to-emerald/0"></div>
        <div class="flex items-center gap-2 mb-4">
          <span class="text-emerald text-sm font-medium uppercase tracking-wider">With SLOPE</span>
        </div>
        <div class="font-mono text-xs leading-relaxed space-y-1">
          <p class="text-emerald/80">Sprint 27 — Expected: 4 tickets — Delivered: 4 (on target)</p>
          <p class="text-text-secondary">Clean starts: 4/4 | Completed as planned: 3/4</p>
          <p class="text-text-secondary">Known issues hit: 1 — caught by automated guard</p>
          <p class="text-gold">Trending: improving (last 5 better than all-time)</p>
          <p class="text-text-secondary">Recurring pattern flagged → won't happen again</p>
          <p class="text-emerald/60">Next sprint: guided by briefing + performance history</p>
        </div>
      </div>
    </div>

    <!-- Live stats bar -->
    <div class="grid grid-cols-2 sm:grid-cols-4 gap-4" data-stagger>
      <div class="text-center p-4 rounded-lg bg-bg-card border border-border-subtle">
        <div id="stat-sprints" class="font-heading font-bold text-2xl text-emerald">27</div>
        <div class="text-text-muted text-xs mt-1">Sprints</div>
      </div>
      <div class="text-center p-4 rounded-lg bg-bg-card border border-border-subtle">
        <div id="stat-tests" class="font-heading font-bold text-2xl text-text-primary">1,091</div>
        <div class="text-text-muted text-xs mt-1">Tests</div>
      </div>
      <div class="text-center p-4 rounded-lg bg-bg-card border border-border-subtle">
        <div id="stat-commands" class="font-heading font-bold text-2xl text-text-primary">26</div>
        <div class="text-text-muted text-xs mt-1">CLI Commands</div>
      </div>
      <div class="text-center p-4 rounded-lg bg-bg-card border border-border-subtle">
        <div id="stat-packages" class="font-heading font-bold text-2xl text-text-secondary">5</div>
        <div class="text-text-muted text-xs mt-1">Packages</div>
      </div>
    </div>
  </div>
</section>

<script>
  import { onStatsUpdate } from '../scripts/live-stats';
  import { animateCounter } from '../scripts/animations';

  const statEls = {
    tests: document.getElementById('stat-tests'),
    commands: document.getElementById('stat-commands'),
    packages: document.getElementById('stat-packages'),
    sprints: document.getElementById('stat-sprints'),
  };

  onStatsUpdate((stats) => {
    if (statEls.tests) animateCounter(statEls.tests, stats.total_tests);
    if (statEls.commands) animateCounter(statEls.commands, stats.cli_commands);
    if (statEls.packages) animateCounter(statEls.packages, stats.packages);
    if (statEls.sprints) animateCounter(statEls.sprints, stats.sprints_completed);
  });
</script>
